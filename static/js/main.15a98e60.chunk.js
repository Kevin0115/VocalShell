(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,n){},37:function(e,t,n){e.exports=n(61)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},51:function(e,t,n){},57:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(16),c=n.n(r),o=(n(42),n(27),n(6)),s=n(7),i=n(9),u=n(8),m=n(10),d=(n(43),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header-content"},l.a.createElement("h1",null,"VocalShell"))}}]),t}(a.Component)),h=n(67),E=n(66),b=n(65),p=(n(44),n(23)),f=n.n(p),v=n(13),g=n(28),y=n(63),j=(n(48),n(51),n(29)),O=n.n(j),k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).onRecordingComplete=function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:O()(e,(function(t,a){var l;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.setState({loading:!0}),!t){a.next=4;break}return console.error(t),a.abrupt("return");case 4:n.state.blobURL&&window.URL.revokeObjectURL(n.state.blobURL),n.setState({blobURL:window.URL.createObjectURL(e)}),(l=new FileReader).readAsDataURL(e),l.onloadend=function(){var e=l.result.replace(/^data:.+;base64,/,"");console.log(e),fetch("http://34.94.33.138:8080/terminal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio:e})}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.success){if("clear"===e.input)return void n.setState({commandList:[{cmd:"clear"}]});n.state.commandList.push({cmd:e.input}),n.state.commandList.push({cmd:e.output})}else n.state.commandList.push({cmd:e.output})})).catch((function(e){console.log("Error Transcribing Audio")})).finally((function(){n.setState({loading:!1})}))};case 9:case"end":return a.stop()}}))}));case 1:case"end":return t.stop()}}))},n.onRecordingError=function(e){n.state.blobURL&&window.URL.revokeObjectURL(n.state.blobURL),n.setState({blobURL:null})},n.state={blobURL:"",blinkCursor:!1,commandList:[],loading:!1},n.renderRecorder=n.renderRecorder.bind(Object(v.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("mounted"),setInterval((function(){e.setState({blinkCursor:!e.state.blinkCursor})}),500)}},{key:"renderCommands",value:function(){return this.state.commandList.map((function(e,t){return l.a.createElement("p",{key:t},"> ",e.cmd)}))}},{key:"renderRecorder",value:function(){return this.state.loading?l.a.createElement(y.a,{className:"loading",animation:"grow"}):l.a.createElement(g.a,{onRecordingComplete:this.onRecordingComplete,onRecordingError:this.onRecordingError,style:{margin:"0 auto"}})}},{key:"render",value:function(){return l.a.createElement("div",{className:"vocalshell"},l.a.createElement("div",{className:"body"},l.a.createElement("div",{className:"recording"},l.a.createElement("div",{className:"instructions"},"Press and hold to record your command."),this.renderRecorder()),l.a.createElement("div",{className:"shell"},l.a.createElement("div",{className:"topbar"},l.a.createElement("span",{className:"red-dot"}),l.a.createElement("span",{className:"yellow-dot"}),l.a.createElement("span",{className:"green-dot"})),l.a.createElement("div",{className:"shell-body"},this.renderCommands(),"> ",this.state.blinkCursor?"_":null))))}}]),t}(a.Component),L=n(64),w=(n(57),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"help-content"},l.a.createElement(L.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Shell Command"),l.a.createElement("th",null,"Vocal Command"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"1"),l.a.createElement("td",null,"cd"),l.a.createElement("td",null,"change directory")),l.a.createElement("tr",null,l.a.createElement("td",null,"2"),l.a.createElement("td",null,"pwd"),l.a.createElement("td",null,"print working directory")),l.a.createElement("tr",null,l.a.createElement("td",null,"3"),l.a.createElement("td",null,"ls"),l.a.createElement("td",null,"listing directory")),l.a.createElement("tr",null,l.a.createElement("td",null,"4"),l.a.createElement("td",null,"rm"),l.a.createElement("td",null,"remove")),l.a.createElement("tr",null,l.a.createElement("td",null,"5"),l.a.createElement("td",null,"mkdir"),l.a.createElement("td",null,"make directory")),l.a.createElement("tr",null,l.a.createElement("td",null,"6"),l.a.createElement("td",null,"clear"),l.a.createElement("td",null,"clear")))))}}]),t}(a.Component)),R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={logs:[]},n.renderLogs=n.renderLogs.bind(Object(v.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchLogs()}},{key:"fetchLogs",value:function(){var e=this;fetch("http://34.94.33.138:8080/command_log",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({logs:t.content})})).catch((function(e){console.log(e)}))}},{key:"renderLogs",value:function(){return this.state.logs.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("div",{className:"log"},l.a.createElement("span",{className:"command"},e.cmd,"\xa0"),e.date))}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"logs-content"},l.a.createElement("div",{className:"logs"},this.renderLogs()))}}]),t}(a.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"body-content"},l.a.createElement(h.a,{style:{width:"80vw"}},l.a.createElement(h.a.Body,null,l.a.createElement(E.a,{defaultActiveKey:"shell"},l.a.createElement(b.a,{eventKey:"shell",title:"Shell"},l.a.createElement("div",{className:"vocalshell-wrapper"},l.a.createElement(k,null))),l.a.createElement(b.a,{eventKey:"logs",title:"Logs"},l.a.createElement(R,null)),l.a.createElement(b.a,{eventKey:"help",title:"Help"},l.a.createElement("div",{className:"helpshell-wrapper"},l.a.createElement(w,null)))))))}}]),t}(a.Component);var C=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d,null),l.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.15a98e60.chunk.js.map